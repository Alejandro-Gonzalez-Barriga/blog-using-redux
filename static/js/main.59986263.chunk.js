(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{42:function(e,a,r){e.exports=r(74)},47:function(e,a,r){},48:function(e,a,r){},54:function(e,a,r){},74:function(e,a,r){"use strict";r.r(a);var t={};r.r(t),r.d(t,"traerTodos",(function(){return C}));var n={};r.r(n),r.d(n,"traerTodas",(function(){return G}));var o=r(0),c=r.n(o),u=r(23),s=r.n(u),i=(r(47),r(48),r(13)),l=r(12),p=function(e){return c.a.createElement("nav",{id:"menu"},c.a.createElement(i.b,{to:"/"},"Usuarios"),c.a.createElement(i.b,{to:"/tareas"},"Tareas"))},d=r(17),m=r(18),b=r(20),f=r(19),h=r(21),g=r(7),y=(r(54),function(e){return c.a.createElement("div",{className:"center"},c.a.createElement("div",{className:"lds-ring"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))}),v=Object(g.b)((function(e){return e.usuariosReducer}))((function(e){return c.a.createElement("table",{className:"tabla"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Nombre"),c.a.createElement("th",null,"Correo"),c.a.createElement("th",null,"Enlace"))),c.a.createElement("tbody",null,e.usuarios.map((function(e,a){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.email),c.a.createElement("td",null,e.website),c.a.createElement("td",null,c.a.createElement(i.b,{to:"/publicaciones/".concat(a)},c.a.createElement("div",{className:"eye-solid icon"}))))}))))})),E=function(e){return c.a.createElement("h2",{className:"center danger"},e.message)},j=r(3),O=r.n(j),_=r(15),k=r.n(_),w="usuarios_traer_usuarios",R="usuarios_loading",x="usuarios_error",C=function(){return function(e){var a;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,O.a.awrap(k.a.get("https://jsonplaceholder.typicode.com/users"));case 3:a=r.sent,e({type:R}),e({type:w,payload:a.data}),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.log("Error:",r.t0.message),e({type:x,payload:"Upps, something went wrong, user info not available "});case 12:case"end":return r.stop()}}),null,null,[[0,8]])}},T=function(e){function a(){var e,r;Object(d.a)(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(r=Object(b.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).ponerContenido=function(){return r.props.loading?c.a.createElement(y,null):r.props.error?c.a.createElement(E,{messege:r.props.error}):c.a.createElement(v,null)},r}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.usuarios.length||this.props.traerTodos()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Usuarios"),this.ponerContenido())}}]),a}(o.Component),U=Object(g.b)((function(e){return e.usuariosReducer}),t)(T),N=Object(g.b)((function(e){return e.publicacionesReducer}))((function(e){if(e.com_error)return console.log(e.com_error),c.a.createElement(E,{message:e.com_error});if(e.com_loading&&!e.comentarios.length)return console.log("spinner"),c.a.createElement(y,null);return c.a.createElement("ul",null,e.comentarios.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement("b",null,c.a.createElement("u",null,e.email)),c.a.createElement("br",null),e.body)})))})),I=r(16),P=r(2),z="publicaciones_actualizar",D=C,M=function(e){return function(a,r){var t,n,o,c,u,s,i,l;return O.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return a({type:"publicaciones_loading"}),t=r().usuariosReducer.usuarios,n=r().publicacionesReducer.publicaciones,o=t[e].id,p.prev=4,p.next=7,O.a.awrap(k.a.get("https://jsonplaceholder.typicode.com/posts?userId=".concat(o)));case 7:c=p.sent,u=c.data.map((function(e){return Object(P.a)({},e,{comentarios:[],abierto:!1})})),s=[].concat(Object(I.a)(n),[u]),a({type:z,payload:s}),i=s.length-1,(l=Object(I.a)(t))[e]=Object(P.a)({},t[e],{publicaciones_key:i}),a({type:"usuarios_traer_usuarios",payload:l}),p.next=21;break;case 17:p.prev=17,p.t0=p.catch(4),console.log(p.t0.message),a({type:"publicaciones_error",payload:"Upps, posts not available"});case 21:case"end":return p.stop()}}),null,null,[[4,17]])}},A=function(e,a){return function(r,t){var n=t().publicacionesReducer.publicaciones,o=n[e][a],c=Object(P.a)({},o,{abierto:!o.abierto}),u=Object(I.a)(n);u[e]=Object(I.a)(n[e]),u[e][a]=c,r({type:z,payload:u})}},J=function(e,a){return function(r,t){var n,o,c,u,s;return O.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return r({type:"comentarios_loading"}),n=t().publicacionesReducer.publicaciones,o=n[e][a],i.prev=3,i.next=6,O.a.awrap(k.a.get("https://jsonplaceholder.typicode.com/comments?postId=".concat(o.id)));case 6:c=i.sent,u=Object(P.a)({},o,{comentarios:c.data}),(s=Object(I.a)(n))[e]=Object(I.a)(n[e]),s[e][a]=u,r({type:"comentarios_actualizar",payload:s}),i.next=18;break;case 14:i.prev=14,i.t0=i.catch(3),console.log("coments error: "+i.t0.message),r({type:"comentarios_error",payload:"Comments not availble"});case 18:case"end":return i.stop()}}),null,null,[[3,14]])}},B=function(e){function a(){var e,r;Object(d.a)(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(r=Object(b.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).ponerUsuario=function(){var e=r.props,a=e.match.params.key,t=e.usuariosReducer;if(t.error)return c.a.createElement(E,{mensaje:t.error});if(!t.usuarios.length||t.loading)return c.a.createElement(y,null);var n=t.usuarios[a].name;return c.a.createElement("h1",null,"Publicaciones de ",n)},r.ponerPublicaciones=function(){var e=r.props,a=e.usuariosReducer,t=e.usuariosReducer.usuarios,n=e.publicacionesReducer,o=e.publicacionesReducer.publicaciones,u=e.match.params.key;if(t.length&&!a.error){if(n.cargando)return c.a.createElement(y,null);if(n.error)return c.a.createElement(E,{mensaje:n.error});if(o.length&&"publicaciones_key"in t[u]){var s=t[u].publicaciones_key;return r.mostrarInfo(o[s],s)}}},r.mostrarInfo=function(e,a){return e.map((function(e,t){return c.a.createElement("div",{key:e.id,className:"pub_titulo",onClick:function(){return r.mostrarComentarios(a,t,e.comentarios)}},c.a.createElement("h2",null,e.title),c.a.createElement("h3",null,e.body),e.abierto?c.a.createElement(N,{comentarios:e.comentarios}):"")}))},r.mostrarComentarios=function(e,a,t){r.props.abrirCerrar(e,a),t.length||r.props.traerComentarios(e,a)},r}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e,a,r,t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this.props,a=e.usuariosTraerTodos,r=e.match.params.key,t=e.publicacionesTraerPorUsuario,this.props.usuariosReducer.usuarios.length){n.next=4;break}return n.next=4,O.a.awrap(a());case 4:if(!this.props.usuariosReducer.error){n.next=6;break}return n.abrupt("return");case 6:if("publicaciones_key"in this.props.usuariosReducer.usuarios[r]){n.next=9;break}return n.next=9,O.a.awrap(t(r));case 9:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){return console.log(this.props),c.a.createElement("div",null,this.ponerUsuario(),this.ponerPublicaciones())}}]),a}(o.Component),q={usuariosTraerTodos:D,publicacionesTraerPorUsuario:M,abrirCerrar:A,traerComentarios:J},F=Object(g.b)((function(e){return{usuariosReducer:e.usuariosReducer,publicacionesReducer:e.publicacionesReducer}}),q)(B),G=function(){return function(e){var a;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,O.a.awrap(k.a.get("https://jsonplaceholder.typicode.com/todos"));case 3:a=r.sent,e({type:"tareas_loading"}),e({type:"tareas_traer_todas",payload:a.data}),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.log("Error:",r.t0.message),e({type:"tareas_error",payload:"Upps, something went wrong, to do's info not available "});case 12:case"end":return r.stop()}}),null,null,[[0,8]])}},H=function(e){function a(){return Object(d.a)(this,a),Object(b.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.traerTodas()}},{key:"render",value:function(){return console.log(this.props),c.a.createElement("div",null,"Tareas hi!")}}]),a}(o.Component),K=Object(g.b)((function(e){return e.tareasReducer}),n)(H),L=function(e){return c.a.createElement(i.a,null,c.a.createElement(p,null),c.a.createElement("div",{id:"margen"},c.a.createElement(l.a,{exact:!0,path:"/",component:U}),c.a.createElement(l.a,{exact:!0,path:"/tareas",component:K}),c.a.createElement(l.a,{exact:!0,path:"/publicaciones/:key",component:F})))},Q=r(14),S=r(41),V={usuarios:[],loading:!1,error:""},W={publicaciones:[],loading:!1,error:"",com_loading:!1,com_error:""},X={tareas:{},loading:!1,error:""},Y=Object(Q.c)({usuariosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case w:return Object(P.a)({},e,{usuarios:a.payload,loading:!1,error:""});case R:return Object(P.a)({},e,{loading:!0});case x:return Object(P.a)({},e,{error:a.payload,loading:!1});default:return e}},publicacionesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case z:return Object(P.a)({},e,{publicaciones:a.payload,loading:!1,error:""});case"publicaciones_loading":return Object(P.a)({},e,{loading:!0});case"publicaciones_error":return Object(P.a)({},e,{error:a.payload,loading:!1});case"comentarios_actualizar":return Object(P.a)({},e,{publicaciones:a.payload,com_loading:!1,com_error:""});case"comentarios_loading":return Object(P.a)({},e,{com_loading:!0});case"comentarios_error":return Object(P.a)({},e,{com_error:a.payload,com_loading:!1});default:return e}},tareasReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"tareas_traer_todas":return Object(P.a)({},e,{tareas:a.payload,loading:!1,error:""});case"tareas_loading":return Object(P.a)({},e,{loading:!0});case"tareas_error":return Object(P.a)({},e,{error:a.payload,loading:!1});default:return e}}}),Z=Object(Q.d)(Y,{},Object(Q.a)(S.a));s.a.render(c.a.createElement(g.a,{store:Z},c.a.createElement(L,null)),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.59986263.chunk.js.map