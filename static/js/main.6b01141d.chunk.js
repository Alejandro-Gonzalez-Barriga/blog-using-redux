(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{42:function(e,a,r){e.exports=r(74)},47:function(e,a,r){},48:function(e,a,r){},54:function(e,a,r){},74:function(e,a,r){"use strict";r.r(a);var t={};r.r(t),r.d(t,"traerTodos",(function(){return x}));var n=r(0),c=r.n(n),u=r(16),o=r.n(u),l=(r(47),r(48),r(13)),s=r(12),i=function(e){return c.a.createElement("nav",{id:"menu"},c.a.createElement(l.b,{to:"/"},"Usuarios"),c.a.createElement(l.b,{to:"/tareas"},"Tareas"))},p=r(18),d=r(19),m=r(22),b=r(20),h=r(23),f=r(11),E=(r(54),function(e){return c.a.createElement("div",{className:"center"},c.a.createElement("div",{className:"lds-roller"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))}),v=Object(f.b)((function(e){return e.usuariosReducer}))((function(e){return c.a.createElement("table",{className:"tabla"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Nombre"),c.a.createElement("th",null,"Correo"),c.a.createElement("th",null,"Enlace"))),c.a.createElement("tbody",null,e.usuarios.map((function(e,a){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.email),c.a.createElement("td",null,e.website),c.a.createElement("td",null,c.a.createElement(l.b,{to:"/publicaciones/".concat(a)},c.a.createElement("div",{className:"eye-solid icon"}))))}))))})),y=function(e){return c.a.createElement("h2",{className:"center danger"},e.messege)},g=r(7),j=r.n(g),O=r(21),k=r.n(O),_="usuarios_traer_usuarios",R="usuarios_loading",w="usuarios_error",x=function(){return function(e){var a;return j.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,j.a.awrap(k.a.get("https://jsonplaceholder.typicode.com/users"));case 3:a=r.sent,e({type:R}),e({type:_,payload:a.data}),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.log("Error:",r.t0.message),e({type:w,payload:"Upps, something went wrong, user info not available "});case 12:case"end":return r.stop()}}),null,null,[[0,8]])}},T=function(e){function a(){var e,r;Object(p.a)(this,a);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(r=Object(m.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(n)))).ponerContenido=function(){return r.props.loading?c.a.createElement(E,null):r.props.error?c.a.createElement(y,{messege:r.props.error}):c.a.createElement(v,null)},r}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.usuarios.length||this.props.traerTodos()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Usuarios"),this.ponerContenido())}}]),a}(n.Component),N=Object(f.b)((function(e){return e.usuariosReducer}),t)(T),U=r(8),C=r(28),P=x,A=function(e){return function(a,r){var t,n,c,u,o,l,s;return j.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a({type:"publicaciones_loading"}),t=r().usuariosReducer.usuarios,n=r().publicacionesReducer.publicaciones,c=t[e].id,i.prev=4,i.next=7,j.a.awrap(k.a.get("https://jsonplaceholder.typicode.com/posts?userId=".concat(c)));case 7:u=i.sent,o=[].concat(Object(C.a)(n),[u.data]),a({type:"publicaciones_traer_por_usuario",payload:o}),l=o.length-1,(s=Object(C.a)(t))[e]=Object(U.a)({},t[e],{publicaciones_key:l}),a({type:"usuarios_traer_usuarios",payload:s}),i.next=20;break;case 16:i.prev=16,i.t0=i.catch(4),console.log(i.t0.message),a({type:"publicaciones_error",payload:"Upps, posts not available"});case 20:case"end":return i.stop()}}),null,null,[[4,16]])}},D=function(e){function a(){var e,r;Object(p.a)(this,a);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(r=Object(m.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(n)))).ponerUsuario=function(){var e=r.props,a=e.match.params.key,t=e.usuariosReducer;if(t.error)return c.a.createElement(y,{mensaje:t.error});if(!t.usuarios.length||t.cargando)return c.a.createElement(E,null);var n=t.usuarios[a].name;return c.a.createElement("h1",null,"Publicaciones de ",n)},r.ponerPublicaciones=function(){var e=r.props,a=e.usuariosReducer,t=e.usuariosReducer.usuarios,n=e.publicacionesReducer,u=e.publicacionesReducer.publicaciones,o=e.match.params.key;if(t.length&&!a.error){if(n.cargando)return c.a.createElement(E,null);if(n.error)return c.a.createElement(y,{mensaje:n.error});if(u.length)if("publicaciones_key"in t[o])return u[t[o].publicaciones_key].map((function(e){return c.a.createElement("div",{key:e.id,className:"pub_titulo",onClick:function(){return alert(e.id)}},c.a.createElement("h2",null,e.title),c.a.createElement("h3",null,e.body))}))}},r}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e,a,r,t;return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this.props,a=e.usuariosTraerTodos,r=e.match.params.key,t=e.publicacionesTraerPorUsuario,this.props.usuariosReducer.usuarios.length){n.next=4;break}return n.next=4,j.a.awrap(a());case 4:if(!this.props.usuariosReducer.error){n.next=6;break}return n.abrupt("return");case 6:if("publicaciones_key"in this.props.usuariosReducer.usuarios[r]){n.next=9;break}return n.next=9,j.a.awrap(t(r));case 9:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){return c.a.createElement("div",null,this.ponerUsuario(),this.ponerPublicaciones())}}]),a}(n.Component),I={usuariosTraerTodos:P,publicacionesTraerPorUsuario:A},J=Object(f.b)((function(e){return{usuariosReducer:e.usuariosReducer,publicacionesReducer:e.publicacionesReducer}}),I)(D),M=function(){return c.a.createElement("div",null,"Tareas")},B=function(){return c.a.createElement(l.a,null,c.a.createElement(i,null),c.a.createElement("div",{className:"margen"},c.a.createElement(s.a,{exact:!0,path:"/",component:N}),c.a.createElement(s.a,{exact:!0,path:"/tareas",component:M}),c.a.createElement(s.a,{exact:!0,path:"/publicaciones/:key",component:J})))},q=r(14),z=r(41),F={usuarios:[],loading:!1,error:""},G={publicaciones:[],loading:!1,error:""},H=Object(q.c)({usuariosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case _:return Object(U.a)({},e,{usuarios:a.payload,loading:!1,error:""});case R:return Object(U.a)({},e,{loading:!0});case w:return Object(U.a)({},e,{error:a.payload,loading:!1});default:return e}},publicacionesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"publicaciones_traer_por_usuario":return Object(U.a)({},e,{publicaciones:a.payload,loading:!1,error:""});case"publicaciones_loading":return Object(U.a)({},e,{loading:!0});case"publicaciones_error":return Object(U.a)({},e,{error:a.payload,loading:!1});default:return e}}}),K=Object(q.d)(H,{},Object(q.a)(z.a));o.a.render(c.a.createElement(f.a,{store:K},c.a.createElement(B,null)),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.6b01141d.chunk.js.map