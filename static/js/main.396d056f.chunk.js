(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{43:function(e,a,t){e.exports=t(75)},48:function(e,a,t){},49:function(e,a,t){},55:function(e,a,t){},75:function(e,a,t){"use strict";t.r(a);var r={};t.r(r),t.d(r,"traerTodos",(function(){return R}));var n={};t.r(n),t.d(n,"traerTodas",(function(){return L})),t.d(n,"cambioUsuarioId",(function(){return Q})),t.d(n,"cambioTitulo",(function(){return V})),t.d(n,"agregar",(function(){return W})),t.d(n,"editar",(function(){return X})),t.d(n,"cambioCheck",(function(){return Y})),t.d(n,"eliminar",(function(){return Z})),t.d(n,"limpiarForma",(function(){return $}));var o=t(0),c=t.n(o),u=t(23),i=t.n(u),s=(t(48),t(49),t(10)),l=t(19),p=function(e){return c.a.createElement("nav",{id:"menu"},c.a.createElement(s.b,{to:"/"},"Usuarios"),c.a.createElement(s.b,{to:"/tareas"},"Tareas"))},d=t(14),m=t(15),b=t(17),f=t(16),h=t(18),y=t(4),v=(t(55),function(e){return c.a.createElement("div",{className:"center"},c.a.createElement("div",{className:"lds-ring"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))}),g=Object(y.b)((function(e){return e.usuariosReducer}))((function(e){return c.a.createElement("table",{className:"tabla"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Nombre"),c.a.createElement("th",null,"Correo"),c.a.createElement("th",null,"Enlace"))),c.a.createElement("tbody",null,e.usuarios.map((function(e,a){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.email),c.a.createElement("td",null,e.website),c.a.createElement("td",null,c.a.createElement(s.b,{to:"/publicaciones/".concat(a)},c.a.createElement("div",{className:"eye-solid icon"}))))}))))})),E=function(e){return c.a.createElement("h2",{className:"center danger"},e.message)},j=t(3),_=t.n(j),O=t(11),k=t.n(O),x="usuarios_traer_usuarios",w="usuarios_loading",C="usuarios_error",R=function(){return function(e){var a;return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.awrap(k.a.get("https://jsonplaceholder.typicode.com/users"));case 3:a=t.sent,e({type:w}),e({type:x,payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e({type:C,payload:"Upps, something went wrong, user info not available "});case 11:case"end":return t.stop()}}),null,null,[[0,8]])}},T=function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).ponerContenido=function(){return t.props.loading?c.a.createElement(v,null):t.props.error?c.a.createElement(E,{messege:t.props.error}):c.a.createElement(g,null)},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.usuarios.length||this.props.traerTodos()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Usuarios"),this.ponerContenido())}}]),a}(o.Component),U=Object(y.b)((function(e){return e.usuariosReducer}),r)(T),I=Object(y.b)((function(e){return e.publicacionesReducer}))((function(e){if(e.com_error)return c.a.createElement(E,{message:e.com_error});if(e.com_loading&&!e.comentarios.length)return c.a.createElement(v,null);return c.a.createElement("ul",null,e.comentarios.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement("b",null,c.a.createElement("u",null,e.email)),c.a.createElement("br",null),e.body)})))})),N=t(21),A=t(1),z="publicaciones_actualizar",D=R,P=function(e){return function(a,t){var r,n,o,c,u,i,s,l;return _.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return a({type:"publicaciones_loading"}),r=t().usuariosReducer.usuarios,n=t().publicacionesReducer.publicaciones,o=r[e].id,p.prev=4,p.next=7,_.a.awrap(k.a.get("https://jsonplaceholder.typicode.com/posts?userId=".concat(o)));case 7:c=p.sent,u=c.data.map((function(e){return Object(A.a)({},e,{comentarios:[],abierto:!1})})),i=[].concat(Object(N.a)(n),[u]),a({type:z,payload:i}),s=i.length-1,(l=Object(N.a)(r))[e]=Object(A.a)({},r[e],{publicaciones_key:s}),a({type:"usuarios_traer_usuarios",payload:l}),p.next=20;break;case 17:p.prev=17,p.t0=p.catch(4),a({type:"publicaciones_error",payload:"Upps, posts not available"});case 20:case"end":return p.stop()}}),null,null,[[4,17]])}},M=function(e,a){return function(t,r){var n=r().publicacionesReducer.publicaciones,o=n[e][a],c=Object(A.a)({},o,{abierto:!o.abierto}),u=Object(N.a)(n);u[e]=Object(N.a)(n[e]),u[e][a]=c,t({type:z,payload:u})}},F=function(e,a){return function(t,r){var n,o,c,u,i;return _.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t({type:"comentarios_loading"}),n=r().publicacionesReducer.publicaciones,o=n[e][a],s.prev=3,s.next=6,_.a.awrap(k.a.get("https://jsonplaceholder.typicode.com/comments?postId=".concat(o.id)));case 6:c=s.sent,u=Object(A.a)({},o,{comentarios:c.data}),(i=Object(N.a)(n))[e]=Object(N.a)(n[e]),i[e][a]=u,t({type:"comentarios_actualizar",payload:i}),s.next=17;break;case 14:s.prev=14,s.t0=s.catch(3),t({type:"comentarios_error",payload:"Comments not availble"});case 17:case"end":return s.stop()}}),null,null,[[3,14]])}},G=function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).ponerUsuario=function(){var e=t.props,a=e.match.params.key,r=e.usuariosReducer;if(r.error)return c.a.createElement(E,{message:r.error});if(!r.usuarios.length||r.loading)return c.a.createElement(v,null);var n=r.usuarios[a].name;return c.a.createElement("h1",null,"Publicaciones de ",n)},t.ponerPublicaciones=function(){var e=t.props,a=e.usuariosReducer,r=e.usuariosReducer.usuarios,n=e.publicacionesReducer,o=e.publicacionesReducer.publicaciones,u=e.match.params.key;if(r.length&&!a.error){if(n.loading)return c.a.createElement(v,null);if(n.error)return c.a.createElement(E,{message:n.error});if(o.length&&"publicaciones_key"in r[u]){var i=r[u].publicaciones_key;return t.mostrarInfo(o[i],i)}}},t.mostrarInfo=function(e,a){return e.map((function(e,r){return c.a.createElement("div",{key:e.id,className:"pub_titulo",onClick:function(){return t.mostrarComentarios(a,r,e.comentarios)}},c.a.createElement("h2",null,e.title),c.a.createElement("h3",null,e.body),e.abierto?c.a.createElement(I,{comentarios:e.comentarios}):"")}))},t.mostrarComentarios=function(e,a,r){t.props.abrirCerrar(e,a),r.length||t.props.traerComentarios(e,a)},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e,a,t,r;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this.props,a=e.usuariosTraerTodos,t=e.match.params.key,r=e.publicacionesTraerPorUsuario,this.props.usuariosReducer.usuarios.length){n.next=4;break}return n.next=4,_.a.awrap(a());case 4:if(!this.props.usuariosReducer.error){n.next=6;break}return n.abrupt("return");case 6:if("publicaciones_key"in this.props.usuariosReducer.usuarios[t]){n.next=9;break}return n.next=9,_.a.awrap(r(t));case 9:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){return c.a.createElement("div",null,this.ponerUsuario(),this.ponerPublicaciones())}}]),a}(o.Component),J={usuariosTraerTodos:D,publicacionesTraerPorUsuario:P,abrirCerrar:M,traerComentarios:F},S=Object(y.b)((function(e){return{usuariosReducer:e.usuariosReducer,publicacionesReducer:e.publicacionesReducer}}),J)(G),B=t(25),q="tareas_traer_todas",H="tareas_guardar",K="tareas_limpiar",L=function(){return function(e){var a,t;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e({type:"tareas_loading"}),r.prev=1,r.next=4,_.a.awrap(k.a.get("https://jsonplaceholder.typicode.com/todos"));case 4:a=r.sent,t={},a.data.map((function(e){return t[e.userId]=Object(A.a)({},t[e.userId],Object(B.a)({},e.id,Object(A.a)({},e)))})),e({type:q,payload:t}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),e({type:"tareas_error",payload:"Tareas no disponibles."});case 13:case"end":return r.stop()}}),null,null,[[1,10]])}},Q=function(e){return function(a){a({type:"tareas_cambio_usuario_id",payload:e})}},V=function(e){return function(a){a({type:"tareas_cambio_titulo",payload:e})}},W=function(e){return function(a){return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"tareas_loading"}),t.prev=1,t.next=4,_.a.awrap(k.a.post("https://jsonplaceholder.typicode.com/todos",e));case 4:a({type:H}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a({type:"tareas_error",payload:"Servicio no disponible en este momento."});case 10:case"end":return t.stop()}}),null,null,[[1,7]])}},X=function(e){return function(a){return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"tareas_loading"}),t.prev=1,t.next=4,_.a.awrap(k.a.put("https://jsonplaceholder.typicode.com/todos/".concat(e.id),e));case 4:a({type:H}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a({type:"tareas_error",payload:"try again later"});case 10:case"end":return t.stop()}}),null,null,[[1,7]])}},Y=function(e,a){return function(t,r){var n=r().tareasReducer.tareas,o=n[e][a],c=Object(A.a)({},n);c[e]=Object(A.a)({},n[e]),c[e][a]=Object(A.a)({},n[e][a],{completed:!o.completed}),t({type:"tareas_actualizar",payload:c})}},Z=function(e){return function(a){return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"tareas_loading"}),t.prev=1,t.next=4,_.a.awrap(k.a.delete("https://jsonplaceholder.typicode.com/todos/".concat(e)));case 4:a({type:q,payload:{}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a({type:"tareas_error",payload:"Service not available"});case 10:case"end":return t.stop()}}),null,null,[[1,7]])}},$=function(){return function(e){e({type:K})}},ee=function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).mostrarContenido=function(){var e=t.props,a=e.tareas,r=e.loading,n=e.error;return r?c.a.createElement(v,null):n?c.a.createElement(E,{message:n}):Object.keys(a).map((function(e){return c.a.createElement("div",{key:e},c.a.createElement("h2",null,"Usuario ",e),c.a.createElement("div",{className:"contenedor_tareas"},t.ponerTareas(e)))}))},t.ponerTareas=function(e){var a=t.props,r=a.tareas,n=a.cambioCheck,o=a.eliminar,u=Object(A.a)({},r[e]);return Object.keys(u).map((function(a){return c.a.createElement("div",{key:a},c.a.createElement("input",{type:"checkbox",defaultChecked:u[a].completed,onChange:function(){return n(e,a)}}),u[a].title,c.a.createElement("button",{className:"m_left"},c.a.createElement(s.b,{to:"/tareas/guardar/".concat(e,"/").concat(a)},"Editar")),c.a.createElement("button",{className:"m_left",onClick:function(){return o(a)}},"Eliminar"))}))},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){Object.keys(this.props.tareas).length||this.props.traerTodas()}},{key:"componentDidUpdate",value:function(){var e=this.props,a=e.tareas,t=e.loading,r=e.traerTodas;Object.keys(a).length||t||r(),console.log("update",this.props)}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",null,c.a.createElement(s.b,{to:"/tareas/guardar"},"Agregar")),this.mostrarContenido())}}]),a}(o.Component),ae=Object(y.b)((function(e){return e.tareasReducer}),n)(ee),te=function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).cambioUsuarioId=function(e){t.props.cambioUsuarioId(e.target.value)},t.cambioTitulo=function(e){t.props.cambioTitulo(e.target.value)},t.guardar=function(){var e=t.props,a=e.match.params,r=a.usu_id,n=a.tar_id,o=e.tareas,c=e.usuario_id,u=e.titulo,i=e.agregar,s=e.editar,l={userId:c,title:u,completed:!1};if(r&&n){var p=o[r][n];s(Object(A.a)({},l,{completed:p.completed,id:p.id}))}else i(l)},t.deshabilitar=function(){var e=t.props,a=e.usuario_id,r=e.titulo;return!!e.loading||(!a||!r)},t.mostrarAccion=function(){var e=t.props,a=e.error;return e.loading?c.a.createElement(v,null):a?c.a.createElement(E,{mensaje:a}):void 0},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.match.params,t=a.usu_id,r=a.tar_id,n=e.tareas,o=e.cambioUsuarioId,c=e.cambioTitulo,u=e.limpiarForma;if(t&&r){var i=n[t][r];o(i.userId),c(i.title)}else u()}},{key:"render",value:function(){return c.a.createElement("div",null,this.props.regresar?c.a.createElement(l.a,{to:"/tareas"}):"",c.a.createElement("h1",null,"Guardar Tarea"),"Usuario id:",c.a.createElement("input",{type:"number",value:this.props.usuario_id,onChange:this.cambioUsuarioId}),c.a.createElement("br",null),c.a.createElement("br",null),"T\xedtulo:",c.a.createElement("input",{value:this.props.titulo,onChange:this.cambioTitulo}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("button",{disabled:this.deshabilitar(),onClick:this.guardar},"Guardar"),this.mostrarAccion())}}]),a}(o.Component),re=Object(y.b)((function(e){return e.tareasReducer}),n)(te),ne=function(e){return c.a.createElement(s.a,null,c.a.createElement(p,null),c.a.createElement("div",{id:"margen"},c.a.createElement(l.b,{exact:!0,path:"/",component:U}),c.a.createElement(l.b,{exact:!0,path:"/tareas",component:ae}),c.a.createElement(l.b,{exact:!0,path:"/publicaciones/:key",component:S}),c.a.createElement(l.b,{exact:!0,path:"/tareas/guardar",component:re}),c.a.createElement(l.b,{exact:!0,path:"/tareas/guardar/:usu_id/:tar_id",component:re})))},oe=t(20),ce=t(42),ue={usuarios:[],loading:!1,error:""},ie={publicaciones:[],loading:!1,error:"",com_loading:!1,com_error:""},se={tareas:{},loading:!1,error:"",usuario_id:"",titulo:"",regresar:!1},le=Object(oe.c)({usuariosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case x:return Object(A.a)({},e,{usuarios:a.payload,loading:!1,error:""});case w:return Object(A.a)({},e,{loading:!0});case C:return Object(A.a)({},e,{error:a.payload,loading:!1});default:return e}},publicacionesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case z:return Object(A.a)({},e,{publicaciones:a.payload,loading:!1,error:""});case"publicaciones_loading":return Object(A.a)({},e,{loading:!0});case"publicaciones_error":return Object(A.a)({},e,{error:a.payload,loading:!1});case"comentarios_actualizar":return Object(A.a)({},e,{publicaciones:a.payload,com_loading:!1,com_error:""});case"comentarios_loading":return Object(A.a)({},e,{com_loading:!0});case"comentarios_error":return Object(A.a)({},e,{com_error:a.payload,com_loading:!1});default:return e}},tareasReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case q:return Object(A.a)({},e,{tareas:a.payload,loading:!1,error:"",regresar:!1});case"tareas_loading":return Object(A.a)({},e,{loading:!0});case"tareas_error":return Object(A.a)({},e,{error:a.payload,loading:!1});case"tareas_cambio_usuario_id":return Object(A.a)({},e,{usuario_id:a.payload});case"tareas_cambio_titulo":return Object(A.a)({},e,{titulo:a.payload});case H:return Object(A.a)({},e,{tareas:{},loading:!1,error:"",regresar:!0,usuario_id:"",titulo:""});case"tareas_actualizar":return Object(A.a)({},e,{tareas:a.payload});case K:return Object(A.a)({},e,{usuario_id:"",titulo:""});default:return e}}}),pe=Object(oe.d)(le,{},Object(oe.a)(ce.a));i.a.render(c.a.createElement(y.a,{store:pe},c.a.createElement(ne,null)),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.396d056f.chunk.js.map