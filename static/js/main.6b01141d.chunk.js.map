{"version":3,"sources":["components/Menu.js","components/general/Spinner.js","components/Usuarios/Tabla.js","components/general/Fatal.js","types/usuariosTypes.js","actions/usuariosActions.js","components/Usuarios/index.js","components/Publicaciones/index.js","actions/publicacionesActions.js","types/publicacionesTypes.js","components/App.js","reducers/usuariosReducer.js","reducers/publicacionesReducer.js","reducers/index.js","index.js"],"names":["Menu","props","id","to","Spinner","className","connect","reducers","usuariosReducer","usuarios","map","usuario","key","name","email","website","Fatal","messege","TRAER_TODOS","LOADING","ERROR","traerTodos","dispatch","a","async","axios","get","respuesta","type","payload","data","console","log","message","Usuarios","ponerContenido","loading","error","this","length","Component","usuariosActions","usuariosTraerTodos","publicacionesTraerPorUsuario","getState","publicaciones","publicacionesReducer","usuario_id","publicaciones_actualizadas","publicaciones_key","usuarios_actualizados","usuariosTypes","Publicaciones","ponerUsuario","match","params","mensaje","cargando","nombre","ponerPublicaciones","publicacion","onClick","alert","title","body","mapDispatchToProps","Tareas","App","exact","path","component","INITIAL_STATE","combineReducers","state","action","store","createStore","applyMiddleware","reduxThunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6b01141d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Menu = props => (\r\n  <nav id=\"menu\">\r\n    <Link to=\"/\">Usuarios</Link>\r\n    <Link to=\"/tareas\">Tareas</Link>\r\n  </nav>\r\n);\r\n\r\nexport default Menu;\r\n","import React from \"react\";\r\nimport \"../../css/spinner.css\";\r\n\r\nconst Spinner = props => {\r\n  return (\r\n    <div className=\"center\">\r\n      <div className=\"lds-roller\">\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Tabla = props => {\r\n  const ponerFilas = () =>\r\n    props.usuarios.map((usuario, key) => (\r\n      <tr key={usuario.id}>\r\n        <td>{usuario.name}</td>\r\n        <td>{usuario.email}</td>\r\n        <td>{usuario.website}</td>\r\n        <td>\r\n          <Link to={`/publicaciones/${key}`}>\r\n            <div className=\"eye-solid icon\"></div>\r\n          </Link>\r\n        </td>\r\n      </tr>\r\n    ));\r\n\r\n  return (\r\n    <table className=\"tabla\">\r\n      <thead>\r\n        <tr>\r\n          <th>Nombre</th>\r\n          <th>Correo</th>\r\n          <th>Enlace</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{ponerFilas()}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = reducers => {\r\n  return reducers.usuariosReducer;\r\n};\r\n\r\nexport default connect(mapStateToProps)(Tabla);\r\n","import React from \"react\";\r\n\r\nconst Fatal = props => <h2 className=\"center danger\">{props.messege}</h2>;\r\n\r\nexport default Fatal;\r\n","export const TRAER_TODOS = \"usuarios_traer_usuarios\";\r\nexport const LOADING = \"usuarios_loading\";\r\nexport const ERROR = \"usuarios_error\";\r\n","import axios from \"axios\";\r\nimport { TRAER_TODOS, LOADING, ERROR } from \"../types/usuariosTypes\";\r\n\r\nexport const traerTodos = () => async dispatch => {\r\n  try {\r\n    const respuesta = await axios.get(\r\n      \"https://jsonplaceholder.typicode.com/users\"\r\n    );\r\n    dispatch({\r\n      type: LOADING\r\n    });\r\n    dispatch({\r\n      type: TRAER_TODOS,\r\n      payload: respuesta.data\r\n    });\r\n  } catch (error) {\r\n    console.log(\"Error:\", error.message);\r\n    dispatch({\r\n      type: ERROR,\r\n      payload: \"Upps, something went wrong, user info not available \"\r\n    });\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Spinner from \"../general/Spinner\";\r\nimport Tabla from \"./Tabla\";\r\nimport Fatal from \"../general/Fatal\";\r\n\r\nimport * as usuariosActions from \"../../actions/usuariosActions\";\r\n\r\nclass Usuarios extends Component {\r\n  componentDidMount() {\r\n    if (!this.props.usuarios.length) {\r\n      this.props.traerTodos();\r\n    }\r\n  }\r\n  ponerContenido = () => {\r\n    if (this.props.loading) {\r\n      return <Spinner />;\r\n    }\r\n    if (this.props.error) {\r\n      return <Fatal messege={this.props.error} />;\r\n    }\r\n    return <Tabla />;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Usuarios</h1>\r\n        {this.ponerContenido()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = reducers => {\r\n  return reducers.usuariosReducer;\r\n};\r\n\r\nexport default connect(mapStateToProps, usuariosActions)(Usuarios);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Spinner from \"../general/Spinner\";\r\nimport Fatal from \"../general/Fatal\";\r\n\r\nimport * as usuariosActions from \"../../actions/usuariosActions\";\r\nimport * as publicacionesActions from \"../../actions/publicacionesActions\";\r\n\r\nconst { traerTodos: usuariosTraerTodos } = usuariosActions;\r\nconst { traerPorUsuario: publicacionesTraerPorUsuario } = publicacionesActions;\r\n\r\nclass Publicaciones extends Component {\r\n  async componentDidMount() {\r\n    const {\r\n      usuariosTraerTodos,\r\n      match: {\r\n        params: { key }\r\n      },\r\n      publicacionesTraerPorUsuario\r\n    } = this.props;\r\n\r\n    if (!this.props.usuariosReducer.usuarios.length) {\r\n      await usuariosTraerTodos();\r\n    }\r\n    if (this.props.usuariosReducer.error) {\r\n      return;\r\n    }\r\n    if (!(\"publicaciones_key\" in this.props.usuariosReducer.usuarios[key])) {\r\n      await publicacionesTraerPorUsuario(key);\r\n    }\r\n  }\r\n\r\n  ponerUsuario = () => {\r\n    const {\r\n      match: {\r\n        params: { key }\r\n      },\r\n      usuariosReducer\r\n    } = this.props;\r\n\r\n    if (usuariosReducer.error) {\r\n      return <Fatal mensaje={usuariosReducer.error} />;\r\n    }\r\n    if (!usuariosReducer.usuarios.length || usuariosReducer.cargando) {\r\n      return <Spinner />;\r\n    }\r\n\r\n    const nombre = usuariosReducer.usuarios[key].name;\r\n\r\n    return <h1>Publicaciones de {nombre}</h1>;\r\n  };\r\n\r\n  ponerPublicaciones = () => {\r\n    const {\r\n      usuariosReducer,\r\n      usuariosReducer: { usuarios },\r\n      publicacionesReducer,\r\n      publicacionesReducer: { publicaciones },\r\n      match: {\r\n        params: { key }\r\n      }\r\n    } = this.props;\r\n\r\n    if (!usuarios.length) return;\r\n    if (usuariosReducer.error) return;\r\n    if (publicacionesReducer.cargando) {\r\n      return <Spinner />;\r\n    }\r\n    if (publicacionesReducer.error) {\r\n      return <Fatal mensaje={publicacionesReducer.error} />;\r\n    }\r\n    if (!publicaciones.length) return;\r\n    if (!(\"publicaciones_key\" in usuarios[key])) return;\r\n\r\n    const { publicaciones_key } = usuarios[key];\r\n    return publicaciones[publicaciones_key].map(publicacion => (\r\n      <div\r\n        key={publicacion.id}\r\n        className=\"pub_titulo\"\r\n        onClick={() => alert(publicacion.id)}\r\n      >\r\n        <h2>{publicacion.title}</h2>\r\n        <h3>{publicacion.body}</h3>\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.ponerUsuario()}\r\n        {this.ponerPublicaciones()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ usuariosReducer, publicacionesReducer }) => {\r\n  return { usuariosReducer, publicacionesReducer };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  usuariosTraerTodos,\r\n  publicacionesTraerPorUsuario\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Publicaciones);\r\n","import axios from \"axios\";\r\nimport { TRAER_POR_USUARIO, LOADING, ERROR } from \"../types/publicacionesTypes\";\r\nimport * as usuariosTypes from \"../types/usuariosTypes\";\r\n\r\nconst { TRAER_TODOS: USUARIOS_TRAER_TODOS } = usuariosTypes;\r\n\r\nexport const traerPorUsuario = key => async (dispatch, getState) => {\r\n  dispatch({\r\n    type: LOADING\r\n  });\r\n\r\n  const { usuarios } = getState().usuariosReducer;\r\n  const { publicaciones } = getState().publicacionesReducer;\r\n  const usuario_id = usuarios[key].id;\r\n\r\n  try {\r\n    const respuesta = await axios.get(\r\n      `https://jsonplaceholder.typicode.com/posts?userId=${usuario_id}`\r\n    );\r\n\r\n    const publicaciones_actualizadas = [...publicaciones, respuesta.data];\r\n\r\n    dispatch({\r\n      type: TRAER_POR_USUARIO,\r\n      payload: publicaciones_actualizadas\r\n    });\r\n\r\n    const publicaciones_key = publicaciones_actualizadas.length - 1;\r\n\r\n    const usuarios_actualizados = [...usuarios];\r\n\r\n    usuarios_actualizados[key] = {\r\n      //this key comes from the parameter on line 7\r\n      ...usuarios[key],\r\n      publicaciones_key\r\n    }; //publicaciones_key is the place in the new array where the posts that you have\r\n    //already fetched are stored, this is done for efficiancy in the app\r\n\r\n    dispatch({\r\n      type: USUARIOS_TRAER_TODOS,\r\n      payload: usuarios_actualizados\r\n    });\r\n  } catch (error) {\r\n    console.log(error.message);\r\n    dispatch({\r\n      type: ERROR,\r\n      payload: \"Upps, posts not available\"\r\n    });\r\n  }\r\n};\r\n","export const TRAER_POR_USUARIO = \"publicaciones_traer_por_usuario\";\r\nexport const LOADING = \"publicaciones_loading\";\r\nexport const ERROR = \"publicaciones_error\";\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route } from \"react-router-dom\";\r\nimport Menu from \"./Menu\";\r\nimport Usuarios from \"./Usuarios\";\r\nimport Publicaciones from \"./Publicaciones\";\r\n\r\nconst Tareas = () => <div>Tareas</div>;\r\n\r\nconst App = () => (\r\n  <BrowserRouter>\r\n    <Menu />\r\n    <div className=\"margen\">\r\n      <Route exact path=\"/\" component={Usuarios} />\r\n      <Route exact path=\"/tareas\" component={Tareas} />\r\n      <Route exact path=\"/publicaciones/:key\" component={Publicaciones} />\r\n    </div>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default App;\r\n","//import { bindActionCreators } from \"redux\";\r\nimport { TRAER_TODOS, LOADING, ERROR } from \"../types/usuariosTypes\";\r\n\r\nconst INITIAL_STATE = {\r\n  usuarios: [],\r\n  loading: false,\r\n  error: \"\"\r\n};\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case TRAER_TODOS:\r\n      return { ...state, usuarios: action.payload, loading: false, error: \"\" };\r\n\r\n    case LOADING:\r\n      return { ...state, loading: true };\r\n\r\n    case ERROR:\r\n      return { ...state, error: action.payload, loading: false };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { TRAER_POR_USUARIO, LOADING, ERROR } from \"../types/publicacionesTypes\";\r\n\r\nconst INITIAL_STATE = {\r\n  publicaciones: [],\r\n  loading: false,\r\n  error: \"\"\r\n};\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case TRAER_POR_USUARIO:\r\n      return {\r\n        ...state,\r\n        publicaciones: action.payload,\r\n        loading: false,\r\n        error: \"\"\r\n      };\r\n    case LOADING:\r\n      return { ...state, loading: true };\r\n\r\n    case ERROR:\r\n      return { ...state, error: action.payload, loading: false };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport usuariosReducer from \"./usuariosReducer\";\r\nimport publicacionesReducer from \"./publicacionesReducer\";\r\n\r\nexport default combineReducers({\r\n  usuariosReducer,\r\n  publicacionesReducer\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./css/index.css\";\r\nimport \"./css/iconos.css\";\r\nimport App from \"./components/App\";\r\n\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport reduxThunk from \"redux-thunk\";\r\n\r\nimport reducers from \"./reducers\";\r\n\r\nconst store = createStore(\r\n  reducers, //todos los reducers\r\n  {}, //estado inicial\r\n  applyMiddleware(reduxThunk)\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}